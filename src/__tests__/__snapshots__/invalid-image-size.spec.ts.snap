// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`integration  invalid-image-size should analyze 1`] = `
Array [
  Object {
    "conclusion": "success",
    "files": Array [
      "asset/image/1659821.jpeg",
      "asset/script.js",
      "asset/text.txt",
      "image_large.jpg",
      "image_thumbnail.jpg",
      "index.html",
      "manifest.json",
    ],
    "name": "manifest-found",
  },
  Object {
    "conclusion": "success",
    "manifest": Object {
      "description": "This entry should yield an error because one image does not meet the ratio required",
      "name": "invalid image size",
    },
    "name": "manifest-read",
  },
  Object {
    "conclusion": "success",
    "gameName": "invalid image size",
    "name": "name-found",
  },
  Object {
    "conclusion": "success",
    "gameDescription": "This entry should yield an error because one image does not meet the ratio required",
    "name": "description-found",
  },
  Object {
    "conclusion": "success",
    "name": "user-found",
    "repositoryName": "entry",
    "user": Object {
      "github": "platane",
      "name": "platane",
    },
  },
  Object {
    "conclusion": "failure",
    "gameCategories": undefined,
    "name": "categories-found",
  },
  Object {
    "conclusion": "failure",
    "images": Object {
      "image_large": Object {
        "error": "size",
        "filename": "image_large",
        "origin": Object {
          "height": 300,
          "width": 200,
        },
        "target": Object {
          "height": 200,
          "width": 300,
        },
      },
      "image_thumbnail": "https://res.cloudinary.com/dy3iszldp/image/upload/c_fit,h_100,w_100/61191dccc4c29b4d785cae9b2f2eae2d.jpg",
    },
    "name": "images-found",
  },
  Object {
    "branch": "entry/invalid-image-size",
    "conclusion": "success",
    "name": "release-found",
    "releaseUrl": "https://github.com/Platane/entry/releases/tag/invalid-image-size-v1",
    "tagName": "invalid-image-size-v1",
  },
  Object {
    "assetFiles": Array [
      "bundle.zip",
    ],
    "bundleUrl": "http://js13kgames-entry-preview.s3-website-eu-west-1.amazonaws.com/cec73ecd46375ab7c64a85c8a4d2c172/bundle.zip",
    "conclusion": "success",
    "name": "bundle-found",
  },
  Object {
    "conclusion": "success",
    "name": "bundle-unzipped",
  },
  Object {
    "bundleSize": 3859,
    "conclusion": "success",
    "name": "bundle-size",
    "sizeLimit": 13312,
  },
  Object {
    "bundleFiles": Array [
      "asset/text.txt",
      "asset/script.js",
      "asset/image/1659821.jpeg",
      "index.html",
    ],
    "conclusion": "success",
    "deployUrl": "http://js13kgames-entry-preview.s3-website-eu-west-1.amazonaws.com/cec73ecd46375ab7c64a85c8a4d2c172/index.html",
    "name": "index-found",
  },
  Object {
    "conclusion": "success",
    "errors": Array [],
    "name": "run-without-error",
  },
  Object {
    "conclusion": "success",
    "externalUrls": Array [],
    "name": "run-without-external-http",
    "urls": Array [
      "http://js13kgames-entry-preview.s3-website-eu-west-1.amazonaws.com/cec73ecd46375ab7c64a85c8a4d2c172/asset/image/1659821.jpeg",
      "http://js13kgames-entry-preview.s3-website-eu-west-1.amazonaws.com/cec73ecd46375ab7c64a85c8a4d2c172/asset/script.js",
      "http://js13kgames-entry-preview.s3-website-eu-west-1.amazonaws.com/cec73ecd46375ab7c64a85c8a4d2c172/asset/text.txt",
      "http://js13kgames-entry-preview.s3-website-eu-west-1.amazonaws.com/cec73ecd46375ab7c64a85c8a4d2c172/index.html",
      "http://js13kgames-entry-preview.s3-website-eu-west-1.amazonaws.com/favicon.ico",
    ],
  },
  Object {
    "conclusion": "success",
    "name": "run-without-blank-screen",
    "screenShotUrl": "http://js13kgames-entry-preview.s3-website-eu-west-1.amazonaws.com/cec73ecd46375ab7c64a85c8a4d2c172/game_preview_screenshot.png",
  },
]
`;

exports[`integration  invalid-image-size should generate checks 1`] = `
Array [
  Object {
    "conclusion": "failure",
    "name": "meta",
    "output": Object {
      "summary": "
## âœ”ï¸ manifest found
The pull requet contains a file named \`manifest.json\`

## âœ”ï¸ manifest parsed
The manifest was found :
\`\`\`json
{
  \\"name\\": \\"invalid image size\\",
  \\"description\\": \\"This entry should yield an error because one image does not meet the ratio required\\"
}
\`\`\`

## âŒ game info
The game name is \\"invalid image size\\"

The manifest does not contain categories

> Make sure you the manifest declare the property \`\\"categories\\"\`, an array of categories

The game description is:

This entry should yield an error because one image does not meet the ratio required


## âŒ game images
 - image_thumbnail

<img height=\\"100\\" src=\\"https://res.cloudinary.com/dy3iszldp/image/upload/c_fit,h_100,w_100/61191dccc4c29b4d785cae9b2f2eae2d.jpg\\" />
 - image_large

 The image does meet the size required. It should have a ratio of 300x200. But is 200x300 instead.",
      "text": "",
      "title": "",
    },
  },
  Object {
    "conclusion": "success",
    "name": "bundle",
    "output": Object {
      "summary": "
## âœ”ï¸ release
The release [invalid-image-size-v1](https://github.com/Platane/entry/releases/tag/invalid-image-size-v1) was found

## âœ”ï¸ bundle
The bundle was found

## âœ”ï¸ game info
The bundle was unzipped\\"

## âœ”ï¸ index file
The index was found

## âœ”ï¸ bundle size
The bundle size is ok",
      "text": "",
      "title": "",
    },
  },
  Object {
    "conclusion": "success",
    "name": "game",
    "output": Object {
      "summary": "
## âœ”ï¸ deploy
The game is deployed [here](http://js13kgames-entry-preview.s3-website-eu-west-1.amazonaws.com/cec73ecd46375ab7c64a85c8a4d2c172/index.html)

## âœ”ï¸ errors
The game did not had any error

## âœ”ï¸ external resources
The game made request to internal resources only, which is fine
\`\`\`
 - http://js13kgames-entry-preview.s3-website-eu-west-1.amazonaws.com/cec73ecd46375ab7c64a85c8a4d2c172/asset/image/1659821.jpeg
 - http://js13kgames-entry-preview.s3-website-eu-west-1.amazonaws.com/cec73ecd46375ab7c64a85c8a4d2c172/asset/script.js
 - http://js13kgames-entry-preview.s3-website-eu-west-1.amazonaws.com/cec73ecd46375ab7c64a85c8a4d2c172/asset/text.txt
 - http://js13kgames-entry-preview.s3-website-eu-west-1.amazonaws.com/cec73ecd46375ab7c64a85c8a4d2c172/index.html
 - http://js13kgames-entry-preview.s3-website-eu-west-1.amazonaws.com/favicon.ico
\`\`\`

## âœ”ï¸ blank screen
The game seems to display something
<img height=\\"120\\" src=\\"http://js13kgames-entry-preview.s3-website-eu-west-1.amazonaws.com/cec73ecd46375ab7c64a85c8a4d2c172/game_preview_screenshot.png\\"/>",
      "text": "",
      "title": "",
    },
  },
]
`;

exports[`integration  invalid-image-size should generate report 1`] = `
"Hello ğŸ‘‹
I am a bot. My job is to review your submission.

I reviewed your latest release, [invalid-image-size-v1](https://github.com/Platane/entry/releases/tag/invalid-image-size-v1). Its looking all good ğŸ‘

I could not found categories in the the manifest.
The image \`image_large\` does not meet the requirement, it should have a ratio of 300x200 (instead of 200x300)

<blockquote> <br> <img height=\\"80\\" width=\\"80\\" title=\\"thumbnail\\" src=\\"https://res.cloudinary.com/dy3iszldp/image/upload/c_fit,h_100,w_100/61191dccc4c29b4d785cae9b2f2eae2d.jpg\\" /> <div>  <a href=\\"http://js13kgames-entry-preview.s3-website-eu-west-1.amazonaws.com/cec73ecd46375ab7c64a85c8a4d2c172/index.html\\">   <strong>invalid image size</strong>  </a>  <i>   <span>&nbsp;&nbsp;by</span>   <a href=\\"https://github.com/platane\\">    platane   </a>  </i>  <br>    <br>  This entry should yield an error because one image does not meet the ratio required </div> <br></blockquote>"
`;
